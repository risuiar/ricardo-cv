---
import type { Lang } from "../../i18n";

interface Props {
  t: any;
  lang: Lang;
  contactData: {
    city: string;
    email: string;
    phone?: string;
    address?: string;
  };
}

const { t, lang, contactData } = Astro.props;
---

<!-- Printable Letter Section -->
<div
  class="page max-w-[210mm] min-h-[297mm] mx-auto bg-white shadow-lg print:shadow-none"
>
  <div class="grid grid-cols-1 md:grid-cols-[280px_1fr] gap-0">
    <!-- LEFT COLUMN - Contact Info -->
    <div
      class="bg-slate-50 left-column-padding border-r-0 md:border-r border-slate-200 border-b md:border-b-0"
    >
      <div class="section-item contact-section">
        <h2
          class="section-title text-sm font-bold text-slate-800 uppercase tracking-wider section-title-spacing border-b-2 border-blue-600"
        >
          {t.sections.contact}
        </h2>
        <div
          class="text-xs contact-content text-slate-700 leading-relaxed"
          id="contact-info"
        >
          <p id="contact-address" class="hidden"></p>
          <p id="contact-city">{contactData.city}</p>
          <p class="break-all" id="contact-email">{contactData.email}</p>
          <p id="contact-phone" class="hidden"></p>
          <p>
            <a
              href={t.contact.websiteUrl}
              target="_blank"
              rel="noopener noreferrer"
              class="text-blue-600 hover:text-blue-800 underline break-all print:text-blue-800"
            >
              {t.contact.website}
            </a>
          </p>
          <p>
            <a
              href="https://www.linkedin.com/in/ricardo-voegeli/"
              target="_blank"
              rel="noopener noreferrer"
              class="text-blue-600 hover:text-blue-800 underline break-all print:text-blue-800"
            >
              {t.contact.linkedin}
            </a>
          </p>
        </div>
      </div>
    </div>

    <!-- RIGHT COLUMN - Letter Content -->
    <div class="right-column-padding relative min-h-full flex flex-col">
      <!-- Date (top right) - First element -->
      <div
        class="absolute top-4 right-4 text-right text-xs text-slate-600"
        id="date-display"
      >
      </div>

      <!-- Recipient (top left) -->
      <div class="mb-6 pt-6">
        <div
          id="recipient-display"
          class="text-sm font-semibold text-slate-800 mb-2"
        >
        </div>
        <div
          id="address-display"
          class="text-xs text-slate-700 whitespace-pre-line"
        >
        </div>
      </div>

      <!-- Subject -->
      <div class="mb-4">
        <h1 id="subject-display" class="text-base font-bold text-slate-800">
        </h1>
      </div>

      <!-- Content -->
      <div
        class="text-xs text-slate-700 leading-relaxed whitespace-pre-line flex-1"
        id="content-display"
      >
      </div>

      <!-- Closing -->
      <div class="mt-8">
        <p class="text-xs text-slate-700 mb-4">
          {
            lang === "de"
              ? "Freundliche Grüsse"
              : lang === "es"
                ? "Saludos cordiales"
                : "Kind regards"
          }
        </p>
        <img
          src="/signature.png"
          alt="Signature"
          class="signature-image mb-2"
        />
        <p class="text-xs text-slate-800 font-semibold">Ricardo Vögeli</p>
      </div>
    </div>
  </div>
</div>
